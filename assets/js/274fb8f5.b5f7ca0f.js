"use strict";(self.webpackChunktracetest_docs=self.webpackChunktracetest_docs||[]).push([[6256],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,f=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return n?a.createElement(f,i(i({ref:t},p),{},{components:n})):a.createElement(f,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},685:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const o={},i="Defining Data Stores as Text Files",l={unversionedId:"cli/creating-data-stores",id:"cli/creating-data-stores",title:"Defining Data Stores as Text Files",description:"You might have multiple Tracetest instances that need to be connected to the same data stores. An easy way of sharing the configuration is by using a configuration file that can be applied to your Tracetest instance.",source:"@site/docs/cli/creating-data-stores.md",sourceDirName:"cli",slug:"/cli/creating-data-stores",permalink:"/cli/creating-data-stores",draft:!1,editUrl:"https://github.com/kubeshop/tracetest/blob/main/docs/docs/cli/creating-data-stores.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Configuring your CLI",permalink:"/cli/configuring-your-cli"},next:{title:"Defining Tests as Text Files",permalink:"/cli/creating-tests"}},s={},c=[{value:"Jaeger",id:"jaeger",level:3},{value:"Tempo",id:"tempo",level:3},{value:"OpenSearch",id:"opensearch",level:3},{value:"SignalFX",id:"signalfx",level:3},{value:"Using the OpenTelemetry Collector",id:"using-the-opentelemetry-collector",level:3},{value:"Apply Configuration",id:"apply-configuration",level:2},{value:"Additional Information",id:"additional-information",level:2}],p={toc:c};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"defining-data-stores-as-text-files"},"Defining Data Stores as Text Files"),(0,r.kt)("p",null,"You might have multiple Tracetest instances that need to be connected to the same data stores. An easy way of sharing the configuration is by using a configuration file that can be applied to your Tracetest instance."),(0,r.kt)("h3",{id:"jaeger"},"Jaeger"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"type: DataStore\nspec:\n    name: development\n    type: jaeger\n    isDefault: true\n    jaeger:\n        endpoint: 127.0.0.1:16685\n        tls:\n            insecure: true\n")),(0,r.kt)("h3",{id:"tempo"},"Tempo"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"type: DataStore\nspec:\n  name: Grafana Tempo\n  type: tempo\n  isDefault: true\n  tempo:\n    endpoint: tempo:9095\n    tls:\n      insecure: true\n")),(0,r.kt)("h3",{id:"opensearch"},"OpenSearch"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"type: DataStore\nspec:\n  name: OpenSearch Data Store\n  type: openSearch\n  isDefault: true\n  opensearch:\n    addresses:\n      - http://opensearch:9200\n    index: traces\n")),(0,r.kt)("h3",{id:"signalfx"},"SignalFX"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"type: DataStore\nspec:\n  name: SignalFX\n  type: signalFx\n  isDefault: true\n  signalFx:\n    realm: us1\n    token: mytoken\n")),(0,r.kt)("h3",{id:"using-the-opentelemetry-collector"},"Using the OpenTelemetry Collector"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"type: DataStore\nspec:\n  name: Opentelemetry Collector pipeline\n  type: otlp\n  isDefault: true\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Consider reading about ",(0,r.kt)("a",{parentName:"p",href:"/configuration/connecting-to-data-stores/opentelemetry-collector"},"how to use the OTEL collector")," to send traces to your Tracetest instance.")),(0,r.kt)("h2",{id:"apply-configuration"},"Apply Configuration"),(0,r.kt)("p",null,"To apply the configuration, you need a ",(0,r.kt)("a",{parentName:"p",href:"/cli/configuring-your-cli"},"configured CLI")," pointed to the instance you want to apply the data store. Then you just have to enter:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"tracetest datastore apply -f my/data-store/file/location.yaml\n")),(0,r.kt)("h2",{id:"additional-information"},"Additional Information"),(0,r.kt)("p",null,"In the current version, you can only have one active data store at any given time. The flag ",(0,r.kt)("inlineCode",{parentName:"p"},"isDefault")," defines which data store should be used by your tests. So, if you want to add a new data store and make sure it will be used in future test runs, make sure to define ",(0,r.kt)("inlineCode",{parentName:"p"},"isDefault")," as ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," in the data store configuration file."),(0,r.kt)("p",null,"After a configuration is applied, you can export it using the CLI by using the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"tracetest datastore export --output my/file/location.yaml --id my-data-store-id\n")))}u.isMDXComponent=!0}}]);